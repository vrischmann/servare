{% extends "feeds_base.html.j2" %}

{% block title %}Feeds{% endblock %}
{% block feeds_content -%}

<div class="content feed-listing">
	{% for feed in feeds %}
	<article class="feed-card">
		<h2 class="title">{{ feed.original.title }}</h2>
		{% if let Some(site_link) = feed.site_link %}
			<div class="site_link">
				{%- if let Some(site_favicon) = feed.site_favicon -%}
				<img src="{{ site_favicon }}" width="32" height="32" />
				{%- endif -%} 
				<a href="{{ site_link }}" target="_blank" rel="noopener">{{ site_link.domain().unwrap_or("unknown") }}</a>
			</div>
		{% endif %}
		<p class="description">{{ feed.original.description }}</p>
	</article>
	{% endfor %}
</div>

{%- endblock %}